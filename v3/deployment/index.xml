<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dell Technologies â€“ Deployment</title>
    <link>https://dell.github.io/csm-docs/v3/deployment/</link>
    <description>Recent content in Deployment on Dell Technologies</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://dell.github.io/csm-docs/v3/deployment/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V3: CSM Installer</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csminstaller/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csminstaller/</guid>
      <description>
        
        
        &lt;p&gt;The CSM (Container Storage Modules) Installer simplifies the deployment and management of Dell EMC Container Storage Modules and CSI Drivers to provide persistent storage for your containerized workloads.&lt;/p&gt;
&lt;h2 id=&#34;csm-installer-supported-modules-and-dell-emc-csi-drivers&#34;&gt;CSM Installer Supported Modules and Dell EMC CSI Drivers&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Modules/Drivers&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;CSM 1.0&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Authorization&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Observability&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Replication&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Resiliency&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSI Driver for PowerScale&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;v2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSI Driver for Unity&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;v2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSI Driver for PowerStore&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;v2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSI Driver for PowerFlex&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;v2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSI Driver for PowerMax&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;v2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The CSM Installer supports installation of CSM 1.0 Modules and CSI Drivers in environments that do not have any existing deployments of CSM or CSI Drivers. The CSM Installer does not support the upgrade of existing CSM or CSI Driver deployments.&lt;/p&gt;
&lt;p&gt;The CSM Installer must first be deployed in a Kubernetes environment using Helm.  After which, the CSM Installer can be used through the following interfaces:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;./csmcli&#34;&gt;CSM CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./csmapi&#34;&gt;REST API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;how-to-deploy-the-container-storage-modules-installer&#34;&gt;How to Deploy the Container Storage Modules Installer&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Add the &lt;code&gt;dell&lt;/code&gt; helm repository:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm repo add dell https://dell.github.io/helm-charts
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;If securing the API service and database, following steps 2 to 4 to generate the certificates, or skip to step 5 to deploy without certificates&lt;/strong&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Generate self-signed certificates using the following commands:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir api-certs

openssl req \
    -newkey rsa:4096 -nodes -sha256 -keyout api-certs/ca.key \
    -x509 -days 365 -out api-certs/ca.crt -subj &amp;#39;/&amp;#39;

openssl req \
    -newkey rsa:4096 -nodes -sha256 -keyout api-certs/cert.key \
    -out api-certs/cert.csr -subj &amp;#39;/&amp;#39;

openssl x509 -req -days 365 -in api-certs/cert.csr -CA api-certs/ca.crt \
    -CAkey api-certs/ca.key -CAcreateserial -out api-certs/cert.crt
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;If required, download the &lt;code&gt;cockroach&lt;/code&gt; binary used to generate certificates for the cockroach-db:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl https://binaries.cockroachdb.com/cockroach-v21.1.8.linux-amd64.tgz | tar -xz &amp;amp;&amp;amp; sudo cp -i cockroach-v21.1.8.linux-amd64/cockroach /usr/local/bin/
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Generate the certificates required for the cockroach-db service:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir db-certs

cockroach cert create-ca --certs-dir=db-certs --ca-key=db-certs/ca.key

cockroach cert create-node cockroachdb-0.cockroachdb.csm-installer.svc.cluster.local cockroachdb-public cockroachdb-0.cockroachdb --certs-dir=db-certs/ --ca-key=db-certs/ca.key
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case multiple instances of cockroachdb are required add all nodes names while creating nodes on the certificates&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cockroach cert create-node cockroachdb-0.cockroachdb.csm-installer.svc.cluster.local cockroachdb-1.cockroachdb.csm-installer.svc.cluster.local cockroachdb-2.cockroachdb.csm-installer.svc.cluster.local cockroachdb-public cockroachdb-0.cockroachdb cockroachdb-1.cockroachdb cockroachdb-2.cockroachdb --certs-dir=db-certs/ --ca-key=db-certs/ca.key
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cockroach cert create-client root --certs-dir=db-certs/ --ca-key=db-certs/ca.key

cockroach cert list --certs-dir=db-certs/
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Create a values.yaml file that contains JWT, Cipher key, and Admin username and password of CSM Installer that are required by the installer during helm installation. See the &lt;a href=&#34;#configuration&#34;&gt;Configuration&lt;/a&gt; section for other values that can be set during helm installation.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;jwtKey&lt;/code&gt;  will be used as a shared secret in HMAC algorithm for generating jwt token, &lt;code&gt;cipherKey&lt;/code&gt; will be used as a symmetric key in AES cipher for encryption of storage system credentials. Those parameters are arbitrary, and you can set them to whatever you like. Just ensure that &lt;code&gt;cipherKey&lt;/code&gt; is exactly 32 characters long.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# string of any length 
jwtKey:

# string of exactly 32 characters
cipherKey: &amp;#34;&amp;#34;

# Admin username of CSM Installer
adminUserName:

# Admin password of CSM Installer
adminPassword:
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Follow step &lt;code&gt;a&lt;/code&gt; if certificates are being used or step &lt;code&gt;b&lt;/code&gt; if certificates are not being used:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;a) Install the helm chart, specifying the certificates generated in the previous steps:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm install -n csm-installer --create-namespace \
   --set-file serviceCertificate=api-certs/cert.crt \
   --set-file servicePrivateKey=api-certs/cert.key \
   --set-file databaseCertificate=db-certs/node.crt \
   --set-file databasePrivateKey=db-certs/node.key \
   --set-file dbClientCertificate=db-certs/client.root.crt \
   --set-file dbClientPrivateKey=db-certs/client.root.key \
   --set-file caCrt=db-certs/ca.crt \
   -f values.yaml \
   csm-installer dell/csm-installer 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;b) If not deploying with certificates, execute the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm install -n csm-installer --create-namespace \
   --set-string scheme=http \
   --set-string dbSSLEnabled=&amp;#34;false&amp;#34; \
   -f values.yaml \
   csm-installer dell/csm-installer 
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: In an OpenShift environment, the cockroachdb StatefulSet will run privileged pods so that it can mount the Persistent Volume used for storage. Follow the documentation for your OpenShift version to enable privileged pods.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;configuration&#34;&gt;Configuration&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Parameter&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;csmInstallerCount&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of replicas for the CSM Installer Deployment&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbInstanceCount&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of replicas for the CSM Database StatefulSet&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;imagePullPolicy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Image pull policy for the CSM Installer images&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Always&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;host&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Host or IP that will be used to bind to the CSM Installer API service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0.0.0.0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;port&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Port that will be used to bind to the CSM Installer API service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;8080&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;scheme&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Scheme used for the CSM Installer API service. Valid values are &lt;code&gt;https&lt;/code&gt; and &lt;code&gt;http&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;https&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;jwtKey&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Key used to sign the JWT token&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;cipherKey&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Key used to encrypt/decrypt user and storage system credentials. Must be 32 characters in length.&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;logLevel&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Log level used for the CSM Installer. Valid values are &lt;code&gt;DEBUG&lt;/code&gt;, &lt;code&gt;INFO&lt;/code&gt;, &lt;code&gt;WARN&lt;/code&gt;, &lt;code&gt;ERROR&lt;/code&gt;, and &lt;code&gt;FATAL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;INFO&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbHost&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Host name of the Cockroach DB instance&lt;/td&gt;
&lt;td&gt;&lt;code&gt;cockroachdb-public&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbPort&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Port number to access the Cockroach DB instance&lt;/td&gt;
&lt;td&gt;&lt;code&gt;26257&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbSSLEnabled&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable SSL for the Cockroach DB connectiong&lt;/td&gt;
&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;installerImage&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the CSM Installer Docker Image&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dellemc/dell-csm-installer:v1.0.0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dataCollectorImage&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the CSM Data Collector Docker Image&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dellemc/csm-data-collector:v1.0.0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;adminUserName&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Username to authenticate with the CSM Installer&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;adminPassword&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Password to authenticate with the CSM Installer&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dbVolumeDirectory&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Directory on the worker node to use for the Persistent Volume&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/var/lib/cockroachdb&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;api_server_ip&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;If using Swagger, set to public IP or host of the CSM Installer API service&lt;/td&gt;
&lt;td&gt;&lt;code&gt;localhost&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;how-to-upgrade-the-container-storage-modules-installer&#34;&gt;How to Upgrade the Container Storage Modules Installer&lt;/h2&gt;
&lt;p&gt;When a new version of the CSM Installer helm chart is available, the following steps can be used to upgrade to the latest version.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Upgrading the CSM Installer does not upgrade the Dell EMC CSI Drivers or modules that were previously deployed with the installer. The CSM Installer does not support upgrading of the Dell EMC CSI Drivers or modules. The Dell EMC CSI Drivers and modules must be deleted and re-deployed using the latest CSM Installer in order to get the most recent version of the Dell EMC CSI Driver and modules.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Update the helm repository.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm repo update
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Follow step &lt;code&gt;a&lt;/code&gt; if certificates were used during the initial installation of the helm chart or step &lt;code&gt;b&lt;/code&gt; if certificates were not used:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;a) Upgrade the helm chart, specifying the certificates used during initial installation:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm upgrade -n csm-installer \
   --set-file serviceCertificate=api-certs/cert.crt \
   --set-file servicePrivateKey=api-certs/cert.key \
   --set-file databaseCertificate=db-certs/node.crt \
   --set-file databasePrivateKey=db-certs/node.key \
   --set-file dbClientCertificate=db-certs/client.root.crt \
   --set-file dbClientPrivateKey=db-certs/client.root.key \
   --set-file caCrt=db-certs/ca.crt \
   -f values.yaml \
   csm-installer dell/csm-installer
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;b) If not deploying with certificates, execute the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm upgrade -n csm-installer \
   --set-string scheme=http \
   --set-string dbSSLEnabled=&amp;#34;false&amp;#34; \
   -f values.yaml \
   csm-installer dell/csm-installer
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;how-to-uninstall-the-container-storage-modules-installer&#34;&gt;How to Uninstall the Container Storage Modules Installer&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Delete the Helm chart&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;helm delete -n csm-installer csm-installer
&lt;/code&gt;&lt;/pre&gt;
      </description>
    </item>
    
    <item>
      <title>V3: CSM REST API</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmapi/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmapi/</guid>
      <description>
        
        
        
&lt;div id=&#34;ohpen_swagger_ui&#34;&gt;&lt;/div&gt;	
&lt;script&gt;
window.onload = function() {
  const ui = SwaggerUIBundle({
    url: &#34;../swagger.yaml&#34;,
    dom_id: &#39;#ohpen_swagger_ui&#39;,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ]
  })

  window.ui = ui
}
&lt;/script&gt;		

      </description>
    </item>
    
    <item>
      <title>V3: CSM CLI</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/csmcli/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/csmcli/</guid>
      <description>
        
        
        &lt;p&gt;&lt;code&gt;csm&lt;/code&gt; is a command-line client for installation of Dell EMC Container Storage Modules and CSI Drivers for Kubernetes clusters.&lt;/p&gt;
&lt;h2 id=&#34;pre-requisites&#34;&gt;Pre-requisites&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;../../deployment&#34;&gt;Deploy the Container Storage Modules Installer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Download/Install the  &lt;code&gt;csm&lt;/code&gt; binary from Github: &lt;a href=&#34;https://github.com/dell/csm&#34;&gt;https://github.com/dell/csm&lt;/a&gt;. Alternatively, you can build the binary by:
&lt;ul&gt;
&lt;li&gt;cloning the &lt;code&gt;csm&lt;/code&gt; repository&lt;/li&gt;
&lt;li&gt;changing into &lt;code&gt;csm/cmd/csm&lt;/code&gt; directory&lt;/li&gt;
&lt;li&gt;running &lt;code&gt;make build&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;create a &lt;code&gt;cli_env.sh&lt;/code&gt; file that contains the correct values for the below variables. And export the variables by running &lt;code&gt;source ./cli_env.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902&#34;&gt;#&lt;/span&gt; Change this to CSM API Server IP
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;export API_SERVER_IP=&amp;#34;127.0.0.1&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902&#34;&gt;#&lt;/span&gt; Change this to CSM API Server Port
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;export API_SERVER_PORT=&amp;#34;31313&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902&#34;&gt;#&lt;/span&gt; CSM API Server protocol - allowed values are https &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;&amp;amp;&lt;/span&gt; http
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;export SCHEME=&amp;#34;https&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8f5902&#34;&gt;#&lt;/span&gt; Path to store JWT &amp;lt;token&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;export AUTH_CONFIG_PATH=&amp;#34;/home/user/installer-token/&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;usage&#34;&gt;Usage&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;~$ ./csm -h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;csm is command line tool for csm application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;Usage:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  csm [flags]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  csm [command]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;Available Commands:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  add          add cluster, configuration or storage
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  approve-task approve task for application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  authenticate authenticate user
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  change       change - subcommand is password
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  create       create application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  delete       delete storage, cluster, configuration or application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  get          get storage, cluster, application, configuration, supported driver, module, storage type
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  help         Help about any command
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  reject-task  reject task for an application
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  update       update storage, configuration or cluster
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;Flags:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;  -h, --help   help for csm-cli
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;Use &amp;#34;csm [command] --help&amp;#34; for more information about a command.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;authenticate-the-user&#34;&gt;Authenticate the User&lt;/h3&gt;
&lt;p&gt;To begin with, you need to authenticate the user who will be managing the CSM Installer and its components.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm authenticate --username=&amp;lt;admin-username&amp;gt; --password=&amp;lt;admin-password&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Or more securely, run the above command without &lt;code&gt;--password&lt;/code&gt; to be prompted for one&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm authenticate --username=&amp;lt;admin-username&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;Enter user&amp;#39;s password:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;change-password&#34;&gt;Change Password&lt;/h3&gt;
&lt;p&gt;To change password follow below command&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm change password --username=&amp;lt;admin-username&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;view-supported-platforms&#34;&gt;View Supported Platforms&lt;/h3&gt;
&lt;p&gt;You can now view the supported Dell emcCSI Drivers&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm get supported-drivers
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also view the supported Modules&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm get supported-modules
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And also view the supported Storage Array Types&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm get supported-storage-arrays
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;add-a-cluster&#34;&gt;Add a Cluster&lt;/h3&gt;
&lt;p&gt;You can now add a cluster by providing cluster detail name and Kubeconfig path&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm add cluster --clustername &amp;lt;desire-cluster-name&amp;gt; --configfilepath &amp;lt;path-to-kubeconfig&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;upload-configuration-files&#34;&gt;Upload Configuration Files&lt;/h3&gt;
&lt;p&gt;You can now add a configuration file that can be used for creating application  by providing filename and path&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm add configuration --filename &amp;lt;name-of-the-desire-file&amp;gt; --filepath &amp;lt;path-to-the-desired-file&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;add-a-storage-system&#34;&gt;Add a Storage System&lt;/h3&gt;
&lt;p&gt;You can now add storage endpoints, array type and its unique id&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm add storage --endpoint &amp;lt;storage-array-endpoint&amp;gt; --storage-type &amp;lt;storage-array-type&amp;gt; --unique-id &amp;lt;storage-array-unique-id&amp;gt; --username &amp;lt;storage-array-username&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The optional &lt;code&gt;--meta-data&lt;/code&gt; flag can be used to provide additional meta-data for the storage system that is used when creating Secrets for the CSI Driver. These fields include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;isDefault: Set to true if this storage system is used as default for multi-array configuration&lt;/li&gt;
&lt;li&gt;skipCertificateValidation: Set to true to skip certificate validation&lt;/li&gt;
&lt;li&gt;mdmId: Comma separated list of MDM IPs for PowerFlex&lt;/li&gt;
&lt;li&gt;nasName: NAS Name for PowerStore&lt;/li&gt;
&lt;li&gt;blockProtocol: Block Protocol for PowerStore&lt;/li&gt;
&lt;li&gt;port: Port for PowerScale&lt;/li&gt;
&lt;li&gt;portGroups: Comma separated list of port group names for PowerMax&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-an-application&#34;&gt;Create an Application&lt;/h3&gt;
&lt;p&gt;You may now create an application depending on the specific use case. Below are the common use cases:&lt;/p&gt;
&lt;details&gt;
   &lt;summary&gt;CSI Driver&lt;/summary&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --driver-type powerflex:&amp;lt;tag&amp;gt; --name &amp;lt;desired-application-name&amp;gt; \ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --storage-arrays &amp;lt;storage-array-type&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSI Driver with CSM Authorization&lt;/summary&gt;
&lt;p&gt;CSM Authorization requires a &lt;code&gt;token.yaml&lt;/code&gt; issued by storage Admin from the CSM Authorization Server, a certificate file, and the &lt;proxyHost-address&gt; of the authorization server. The &lt;code&gt;token.yaml&lt;/code&gt; and &lt;code&gt;cert&lt;/code&gt; should be added by following the steps in &lt;a href=&#34;#upload-configuration-files&#34;&gt;adding configuration file&lt;/a&gt;. CSM Authorization does not yet support all CSI Drivers/platforms(See &lt;a href=&#34;../../authorization/#supported-platforms&#34;&gt;supported platforms documentation&lt;/a&gt; or &lt;a href=&#34;#view-supported-platforms&#34;&gt;supported platforms via CLI&lt;/a&gt;)).
Finally, run the command below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--driver-type powerflex:&amp;lt;tag&amp;gt;  --name &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--storage-arrays &amp;lt;storage-array-unique-id&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-type authorization:&amp;lt;tag&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-configuration &amp;#34;karaviAuthorizationProxy.proxyAuthzToken.filename=&amp;lt;filename-for-token&amp;gt;,karaviAuthorizationProxy.rootCertificate.filename=&amp;lt;filename-for-cert&amp;gt;,karaviAuthorizationProxy.proxyHost=&amp;lt;proxyHost-address&amp;gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSM Observability(Standalone)&lt;/summary&gt;
&lt;p&gt;CSM Observability depends on driver config secret(s) corresponding to the metric(s) you want to enable. Please see &lt;a href=&#34;../../observability/metrics&#34;&gt;CSM Observability&lt;/a&gt; for all Supported   Metrics. For the sake of demonstration, assuming we want to enable &lt;a href=&#34;../../observability/metrics/powerflex&#34;&gt;CSM Metrics for PowerFlex&lt;/a&gt;, the PowerFlex secret yaml should be added by following the steps in &lt;a href=&#34;#upload-configuration-files&#34;&gt;adding configuration file&lt;/a&gt;.
Once this is done, run the command below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--name &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-type observability:&amp;lt;tag&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-configuration &amp;#34;karaviMetricsPowerflex.driverConfig.filename=&amp;lt;filename-for-powerflex-config&amp;gt;,karaviMetricsPowerflex.enabled=true&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSM Observability(Standalone) with CSM Authorization&lt;/summary&gt;
&lt;p&gt;See the individual steps for configuaration file pre-requisites for CSM Observability (Standalone) with CSM Authorization&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--name &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-type &amp;#34;observability:&amp;lt;tag&amp;gt;,authorization:&amp;lt;tag&amp;gt;&amp;#34; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-configuration &amp;#34;karaviMetricsPowerflex.driverConfig.filename=&amp;lt;filename-for-powerflex-config&amp;gt;,karaviMetricsPowerflex.enabled=true,karaviAuthorizationProxy.proxyAuthzToken.filename=&amp;lt;filename-for-token&amp;gt;,karaviAuthorizationProxy.rootCertificate.filename=&amp;lt;filename-for-cert&amp;gt;,karaviAuthorizationProxy.proxyHost=&amp;lt;proxyHost-address&amp;gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSI Driver for Dell EMC PowerMax with reverse proxy module&lt;/summary&gt;
&lt;p&gt;To deploy CSI Driver for Dell EMC PowerMax with reverse proxy module, first upload reverse proxy tls crt and tls key via &lt;a href=&#34;#upload-configuration-files&#34;&gt;adding configuration file&lt;/a&gt;. Then, use the below command to create application:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --driver-type powermax:&amp;lt;tag&amp;gt; --name  &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --storage-arrays &amp;lt;powermax-unique-id&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --module-type reverse-proxy:&amp;lt;tag&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;   --module-configuration reverseProxy.tlsSecretKeyFile=&amp;lt;revprotlskey&amp;gt;,reverseProxy.tlsSecretCertFile=&amp;lt;revprotlscert&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSI Driver with replication module&lt;/summary&gt;
&lt;p&gt;To deploy CSI driver with replication module, first add a target cluster through &lt;a href=&#34;#add-a-cluster&#34;&gt;adding cluster&lt;/a&gt;. Then, use the below command(this command is an example to deploy CSI Driver for Dell EMC PowerStore with replication module) to create application::&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;     --driver-type powerstore:&amp;lt;tag&amp;gt; --name &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	 --storage-arrays &amp;lt;storage-array-unique-id&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	 --module-configuration target_cluster=&amp;lt;created-target-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	 --module-type replication:&amp;lt;tag&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;details&gt;
   &lt;summary&gt;CSI Driver with other module(s) not covered above&lt;/summary&gt;
&lt;p&gt;Assuming you want to deploy a driver with &lt;code&gt;module A&lt;/code&gt; and &lt;code&gt;module B&lt;/code&gt;. If they have specific configurations of &lt;code&gt;A.image=&amp;quot;docker:v1&amp;quot;&lt;/code&gt;,&lt;code&gt;A.filename=hello&lt;/code&gt;, and &lt;code&gt;B.namespace=world&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm create application --clustername &amp;lt;created-cluster-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--driver-type powerflex:&amp;lt;tag&amp;gt;  --name &amp;lt;desired-application-name&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--storage-arrays &amp;lt;storage-array-unique-id&amp;gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-type &amp;#34;module A:&amp;lt;tag&amp;gt;,module B:&amp;lt;tag&amp;gt;&amp;#34; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;	--module-configuration &amp;#34;A.image=docker:v1,A.filename=hello,B.namespace=world&amp;#34;	
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/details&gt;
&lt;br /&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--driver-type&lt;/code&gt; and &lt;code&gt;--module-type&lt;/code&gt; flags in create application command MUST match the values from the &lt;a href=&#34;#view-supported-platforms&#34;&gt;supported CSM platforms&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Replication module supports only using a pair of clusters at a time (source and a target/or single cluster) from CSM installer, However &lt;code&gt;repctl&lt;/code&gt; can be used if needed to add multiple pairs of target clusters. Using replication module with other modules during application creation is not yet supported.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;approve-applicationtask&#34;&gt;Approve application/task&lt;/h3&gt;
&lt;p&gt;You may now approve the task so that you can continue to work with the application&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm approve-task --applicationname &amp;lt;created-application-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;reject-applicationtask&#34;&gt;Reject application/task&lt;/h3&gt;
&lt;p&gt;You may want to reject a task or application to discontinue the ongoing process&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm reject-task --applicationname &amp;lt;created-application-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;delete-applicationtask&#34;&gt;Delete application/task&lt;/h3&gt;
&lt;p&gt;If you want to delete an application&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-style:italic&#34;&gt;./csm delete application --name &amp;lt;created-application-name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: When deleting an application, the namespace and Secrets are not deleted. These resources need to be deleted manually. See more in &lt;a href=&#34;../troubleshooting#after-deleting-an-application-why-cant-i-re-create-the-same-application&#34;&gt;Troubleshooting&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: All commands and associated syntax can be displayed with -h or &amp;ndash;help&lt;/p&gt;
&lt;/blockquote&gt;

      </description>
    </item>
    
    <item>
      <title>V3: Troubleshooting</title>
      <link>https://dell.github.io/csm-docs/v3/deployment/troubleshooting/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v3/deployment/troubleshooting/</guid>
      <description>
        
        
        &lt;h2 id=&#34;frequently-asked-questions&#34;&gt;Frequently Asked Questions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;#why-does-the-installation-fail-due-to-an-invalid-cipherkey-value&#34;&gt;Why does the installation fail due to an invalid cipherKey value?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#why-does-the-cluster-init-pod-show-the-error-cluster-has-already-been-initialized&#34;&gt;Why does the cluster-init pod show the error &amp;ldquo;cluster has already been initialized&amp;rdquo;?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#why-does-the-precheck-fail-when-creating-an-application&#34;&gt;Why does the precheck fail when creating an application?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#how-can-i-view-detailed-logs-for-the-csm-installer&#34;&gt;How can I view detailed logs for the CSM Installer?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#after-deleting-an-application-why-cant-i-re-create-the-same-application&#34;&gt;After deleting an application, why can&amp;rsquo;t I re-create the same application?&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;why-does-the-installation-fail-due-to-an-invalid-cipherkey-value&#34;&gt;Why does the installation fail due to an invalid cipherKey value?&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;cipherKey&lt;/code&gt; value used during deployment of the CSM Installer must be exactly 32 characters in length and contained within quotes.&lt;/p&gt;
&lt;h3 id=&#34;why-does-the-cluster-init-pod-show-the-error-cluster-has-already-been-initialized&#34;&gt;Why does the cluster-init pod show the error &amp;ldquo;cluster has already been initialized&amp;rdquo;?&lt;/h3&gt;
&lt;p&gt;During the initial start-up of the CSM Installer, the database will be initialized by the cluster-init job. If the CSM Installer is uninstalled and then re-installed on the same cluster, this error may be shown due to the Persistent Volume for the database already containing an initialized database. The CSM Installer will function as normal and the cluster-init job can be ignored.&lt;/p&gt;
&lt;p&gt;If a clean installation of the CSM Installer is required, the &lt;code&gt;dbVolumeDirectory&lt;/code&gt; (default location &lt;code&gt;/var/lib/cockroachdb&lt;/code&gt;) must be deleted from the worker node which is hosting the Persistent Volume. After this directory is deleted, the CSM Installer can be re-installed.&lt;/p&gt;
&lt;p&gt;Caution: Deleting the &lt;code&gt;dbVolumeDirectory&lt;/code&gt; location will remove any data persisted by the CSM Installer including clusters, storage systems, and installed applications.&lt;/p&gt;
&lt;h3 id=&#34;why-does-the-precheck-fail-when-creating-an-application&#34;&gt;Why does the precheck fail when creating an application?&lt;/h3&gt;
&lt;p&gt;Each CSI Driver and CSM Module has required software or CRDs that must be installed before the application can be deployed in the cluster. These prechecks are verified when the &lt;code&gt;csm create application&lt;/code&gt; command is executed. If the error message &amp;ldquo;create application failed&amp;rdquo; is displayed, &lt;a href=&#34;#how-can-i-view-detailed-logs-for-the-csm-installer&#34;&gt;review the CSM Installer logs&lt;/a&gt; to view details about the failed prechecks.&lt;/p&gt;
&lt;p&gt;If the precheck fails due to required software (e.g. iSCSI, NFS, SDC) not installed on the cluster nodes, follow these steps to address the issue:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Delete the cluster from the CSM Installer using the &lt;code&gt;csm delete cluster&lt;/code&gt; command.&lt;/li&gt;
&lt;li&gt;Update the nodes in the cluster by installing required software.&lt;/li&gt;
&lt;li&gt;Add the cluster to the CSM Installer using the &lt;code&gt;csm add cluster&lt;/code&gt; command.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;how-can-i-view-detailed-logs-for-the-csm-installer&#34;&gt;How can I view detailed logs for the CSM Installer?&lt;/h3&gt;
&lt;p&gt;Detailed logs of the CSM Installer can be displayed using the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kubectl logs -f -n &amp;lt;namespace&amp;gt; deploy/dell-csm-installer
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;after-deleting-an-application-why-cant-i-re-create-the-same-application&#34;&gt;After deleting an application, why can&amp;rsquo;t I re-create the same application?&lt;/h3&gt;
&lt;p&gt;After deleting an application using the &lt;code&gt;csm delete application&lt;/code&gt; command, the namespace and other non-application resources including Secrets are not deleted from the cluster. This is to prevent removing any resources that may not have been created by the CSM Installer. The namespace must be manually deleted before attempting to re-create the same application using the CSM Installer.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
