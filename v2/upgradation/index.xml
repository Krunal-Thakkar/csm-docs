<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dell Technologies – Upgrade</title>
    <link>https://dell.github.io/csm-docs/v2/upgradation/</link>
    <description>Recent content in Upgrade on Dell Technologies</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://dell.github.io/csm-docs/v2/upgradation/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>V2: Dell CSI Operator</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/operator/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/operator/</guid>
      <description>
        
        
        &lt;p&gt;To upgrade Dell CSI Operator from v1.2.0 or v1.3.0 to v1.4.0, perform the following steps.&lt;/p&gt;
&lt;h3 id=&#34;using-installation-script&#34;&gt;Using Installation Script&lt;/h3&gt;
&lt;p&gt;Run the following command to upgrade the operator from the v1.2.0 release&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bash scripts/install.sh --upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;using-olm&#34;&gt;Using OLM&lt;/h3&gt;
&lt;p&gt;The upgrade of the Dell CSI Operator is done via Operator Lifecycle Manager.
If the &lt;code&gt;InstallPlan&lt;/code&gt; for the Operator subscription is set to &lt;code&gt;Automatic&lt;/code&gt;, the operator will be automatically upgraded to the new version. If the &lt;code&gt;InstallPlan&lt;/code&gt; is set to &lt;code&gt;Manual&lt;/code&gt;, then a Cluster Administrator would need to approve the upgrade.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: The recommended version of OLM for Upstream Kubernetes is &lt;strong&gt;&lt;code&gt;v0.17.0&lt;/code&gt;&lt;/strong&gt; when upgrading operator to &lt;code&gt;v1.4.0&lt;/code&gt;.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>V2: PowerFlex</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/powerflex/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/powerflex/</guid>
      <description>
        
        
        &lt;p&gt;You can upgrade the CSI Driver for Dell EMC PowerFlex using Helm or Dell CSI Operator.&lt;/p&gt;
&lt;h2 id=&#34;update-driver-from-v13v14-to-v15-using-helm&#34;&gt;Update Driver from v1.3/v1.4 to v1.5 using Helm&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Steps&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run &lt;code&gt;git clone https://github.com/dell/csi-powerflex.git&lt;/code&gt; to clone the git repository and get the v1.5 driver.&lt;/li&gt;
&lt;li&gt;You need to create config.json with the configuration of your system.
Check this section in installation documentation:  &lt;a href=&#34;../../../installation/helm/powerflex#install-the-driver&#34;&gt;Install the Driver&lt;/a&gt;
You must set the only system managed in v1.4/v1.3 driver as default in config.json in v1.5 so that the driver knows the existing volumes belong to that system.&lt;/li&gt;
&lt;li&gt;Update values file as needed.&lt;/li&gt;
&lt;li&gt;Run the &lt;code&gt;csi-install&lt;/code&gt; script with the option &lt;em&gt;--upgrade&lt;/em&gt; by running: &lt;code&gt;cd ../dell-csi-helm-installer &amp;amp;&amp;amp; ./csi-install.sh --namespace vxflexos --values ./myvalues.yaml --upgrade&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you are upgrading from a driver version that was installed using Helm v2, ensure that you install Helm3 before installing the driver.&lt;/li&gt;
&lt;li&gt;Installation of the CSI Driver for Dell EMC PowerFlex version 1.5 driver is not supported on Kubernetes upstream clusters running version 1.17. You must upgrade your cluster to 1.19, 1.20, or 1.21 before attempting to install the new version of the driver.&lt;/li&gt;
&lt;li&gt;To update any installation parameter after the driver has been installed, change the &lt;code&gt;myvalues.yaml&lt;/code&gt; file and run the install script with the option &lt;em&gt;--upgrade&lt;/em&gt;, for example: &lt;code&gt;./csi-install.sh --namespace vxflexos --values ./myvalues.yaml --upgrade&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;upgrade-using-dell-csi-operator&#34;&gt;Upgrade using Dell CSI Operator:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;a href=&#34;https://github.com/dell/dell-csi-operator&#34;&gt;Dell CSI Operator repository&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;
This command will install the latest version of the operator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSI Operator version 1.4.0 and higher would install to the &amp;lsquo;dell-csi-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;To upgrade the driver, refer &lt;a href=&#34;./../../../installation/operator/#update-csi-drivers&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>V2: PowerMax</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/powermax/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/powermax/</guid>
      <description>
        
        
        &lt;p&gt;You can upgrade the CSI Driver for Dell EMC PowerMax using Helm or Dell CSI Operator.&lt;/p&gt;
&lt;h2 id=&#34;update-driver-from-v16-to-v17-using-helm&#34;&gt;Update Driver from v1.6 to v1.7 using Helm&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Steps&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run &lt;code&gt;git clone https://github.com/dell/csi-powermax.git&lt;/code&gt; to clone the git repository and get the v1.7 driver.&lt;/li&gt;
&lt;li&gt;Update values file as needed.&lt;/li&gt;
&lt;li&gt;Run the &lt;code&gt;csi-install&lt;/code&gt; script with the option &lt;em&gt;--upgrade&lt;/em&gt; by running: &lt;code&gt;cd ../dell-csi-helm-installer &amp;amp;&amp;amp; ./csi-install.sh --namespace powermax --values ./my-powermax-settings.yaml --upgrade&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;NOTE:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you are upgrading from a driver version that was installed using Helm v2, ensure that you install Helm3 before installing the driver.&lt;/li&gt;
&lt;li&gt;To update any installation parameter after the driver has been installed, change the &lt;code&gt;my-powermax-settings.yaml&lt;/code&gt; file and run the install script with the option &lt;em&gt;--upgrade&lt;/em&gt;, for example: &lt;code&gt;./csi-install.sh --namespace powermax --values ./my-powermax-settings.yaml –upgrade&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;upgrade-using-dell-csi-operator&#34;&gt;Upgrade using Dell CSI Operator:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;a href=&#34;https://github.com/dell/dell-csi-operator&#34;&gt;Dell CSI Operator repository&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;
This command will install the latest version of the operator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSI Operator version 1.4.0 and higher would install to the &amp;lsquo;dell-csi-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;To upgrade the driver, refer &lt;a href=&#34;./../../../installation/operator/#update-csi-drivers&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>V2: PowerScale</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/isilon/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/isilon/</guid>
      <description>
        
        
        &lt;p&gt;You can upgrade the CSI Driver for Dell EMC PowerScale using Helm or Dell CSI Operator.&lt;/p&gt;
&lt;h2 id=&#34;upgrade-driver-from-version-150-to-160&#34;&gt;Upgrade Driver from version 1.5.0 to 1.6.0&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Steps&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Verify that all pre-requisites to install CSI Driver for Dell EMC PowerScale version 1.6.0 are fulfilled. Note that change in secret format should be taken care.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Delete the existing secret (isilon-creds and isilon-certs-0)&lt;/li&gt;
&lt;li&gt;Create new secrets (isilon-creds and isilon-certs-0)
Refer Installation section &lt;a href=&#34;./../../../installation/helm/isilon/#install-the-driver&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clone the repository &lt;a href=&#34;https://github.com/dell/csi-powerscale&#34;&gt;https://github.com/dell/csi-powerscale&lt;/a&gt; , copy the helm/csi-isilon/values.yaml into a new location with a custom name say &lt;em&gt;my-isilon-settings.yaml&lt;/em&gt;, to customize settings for installation. Edit &lt;em&gt;my-isilon-settings.yaml&lt;/em&gt; as per the requirements.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change to directory dell-csi-helm-installer to install the Dell EMC PowerScale &lt;code&gt;cd dell-csi-helm-installer&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upgrade the CSI Driver for Dell EMC PowerScale version 1.6.0 using following command:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./csi-install.sh --namespace isilon --values ./my-isilon-settings.yaml --upgrade&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;upgrade-using-dell-csi-operator&#34;&gt;Upgrade using Dell CSI Operator:&lt;/h2&gt;
&lt;p&gt;To upgrade the driver from version 1.5.0 to 1.6.0:&lt;/p&gt;
&lt;p&gt;Note: It is highly recommended to take &lt;em&gt;Backup of existing storage class definition and volumesnapshot class definition, yaml files&lt;/em&gt; before the upgrade.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;a href=&#34;https://github.com/dell/dell-csi-operator&#34;&gt;Dell CSI Operator repository&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;  . This command will install the latest version of the operator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSI Operator version 1.4.0 and higher would install to the &amp;lsquo;dell-csi-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;To upgrade the driver, refer &lt;a href=&#34;./../../../installation/operator/#update-csi-drivers&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>V2: PowerStore</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/powerstore/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/powerstore/</guid>
      <description>
        
        
        &lt;p&gt;You can upgrade the CSI Driver for Dell EMC PowerStore using Helm or Dell CSI Operator.&lt;/p&gt;
&lt;h2 id=&#34;update-driver-from-v13-to-v14-using-helm&#34;&gt;Update Driver from v1.3 to v1.4 using Helm&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Steps&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;git clone https://github.com/dell/csi-powerstore.git&lt;/code&gt; to clone the git repository and get the v1.4 driver.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Edit &lt;code&gt;helm/config.yaml&lt;/code&gt; file and configure connection information for your PowerStore arrays changing the following parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;endpoint&lt;/em&gt;: defines the full URL path to the PowerStore API.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;username&lt;/em&gt;, &lt;em&gt;password&lt;/em&gt;: defines credentials for connecting to array.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;insecure&lt;/em&gt;: defines if we should use insecure connection or not.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;default&lt;/em&gt;: defines if we should treat the current array as a default.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;block-protocol&lt;/em&gt;: defines what SCSI transport protocol we must use (FC, ISCSI, None, or auto).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;nas-name&lt;/em&gt;: defines what NAS should be used for NFS volumes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Add more blocks similar to above for each PowerStore array if necessary.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(optional) create new storage classes using ones from &lt;code&gt;helm/samples/storageclass&lt;/code&gt; folder as an example and apply them to the Kubernetes cluster by running &lt;code&gt;kubectl create -f &amp;lt;path_to_storageclass_file&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Storage classes created by v1.3 driver will not be deleted, v1.4 driver will use default array to manage volumes provisioned with old storage classes. Thus, if you still have volumes provisioned by v1.3 in your cluster then be sure to include the same array you have used for the v1.3 driver and make it default in the &lt;code&gt;config.yaml&lt;/code&gt; file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create the secret by running &lt;code&gt;sed &amp;quot;s/CONFIG_YAML/`cat helm/config.yaml | base64 -w0`/g&amp;quot; helm/secret.yaml | kubectl apply -f -&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Update values file as needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the &lt;code&gt;csi-install&lt;/code&gt; script with the option &lt;em&gt;--upgrade&lt;/em&gt; by running: &lt;code&gt;cd ../dell-csi-helm-installer &amp;amp;&amp;amp; ./csi-install.sh --namespace csi-powerstore --values ./my-powerstore-settings.yaml --upgrade&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;upgrade-using-dell-csi-operator&#34;&gt;Upgrade using Dell CSI Operator:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;a href=&#34;https://github.com/dell/dell-csi-operator&#34;&gt;Dell CSI Operator repository&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;
This command will install the latest version of the operator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSI Operator version 1.4.0 and higher would install to the &amp;lsquo;dell-csi-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;To upgrade the drive, refer &lt;a href=&#34;./../../../installation/operator/#update-csi-drivers&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
    <item>
      <title>V2: Unity</title>
      <link>https://dell.github.io/csm-docs/v2/upgradation/drivers/unity/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dell.github.io/csm-docs/v2/upgradation/drivers/unity/</guid>
      <description>
        
        
        &lt;p&gt;You can upgrade the CSI Driver for Dell EMC Unity using Helm or Dell CSI Operator.&lt;/p&gt;
&lt;h3 id=&#34;using-helm&#34;&gt;Using Helm&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; While upgrading the driver via helm, controllerCount variable in myvalues.yaml can be at most one less than the number of worker nodes.&lt;/p&gt;
&lt;p&gt;Preparing myvalues.yaml is the same as explained in the install section.&lt;/p&gt;
&lt;p&gt;To upgrade the driver from csi-unity v1.5 to csi-unity 1.6 (across K8S 1.19, K8S 1.20, K8S 1.21).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get the latest csi-unity 1.6 code from Github.&lt;/li&gt;
&lt;li&gt;Create myvalues.yaml according to csi-unity 1.6 .&lt;/li&gt;
&lt;li&gt;Clone the repository &lt;a href=&#34;https://github.com/dell/csi-unity&#34;&gt;https://github.com/dell/csi-unity&lt;/a&gt; , copy the helm/csi-unity/values.yaml to the new location
csi-unity/dell-csi-helm-installer with name say myvalues.yaml, to customize settings for installation edit myvalues.yaml as per the requirements.&lt;/li&gt;
&lt;li&gt;Navigate to common-helm-installer folder and execute the following command:
&lt;code&gt;./csi-install.sh --namespace unity --values ./myvalues.yaml --upgrade&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;User has to re-create existing custom-storage classes (if any) according to the latest (v1.6) format.&lt;/li&gt;
&lt;li&gt;User has to create Volumesnapshotclass after upgrade for taking Snapshots.&lt;/li&gt;
&lt;li&gt;Secret.json/Secret.yaml files can be updated according to Multiarray Normalization parameters only after upgrading the driver.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;using-operator&#34;&gt;Using Operator&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; While upgrading the driver via operator, replicas count in sample CR yaml can be at most one less than the number of worker nodes.&lt;/p&gt;
&lt;p&gt;To upgrade the driver from csi-unity v1.5 to csi-unity v1.6 (OpenShift 4.6/4.7) :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone the &lt;a href=&#34;https://github.com/dell/dell-csi-operator&#34;&gt;Dell CSI Operator repository&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Execute &lt;code&gt;bash scripts/install.sh --upgrade&lt;/code&gt;
This command will install the latest version of the operator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Dell CSI Operator version 1.4.0 and higher would install to the &amp;lsquo;dell-csi-operator&amp;rsquo; namespace by default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;To upgrade the driver, refer &lt;a href=&#34;./../../../installation/operator/#update-csi-drivers&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

      </description>
    </item>
    
  </channel>
</rss>
